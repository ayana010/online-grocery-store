<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<!DOCTYPE html>
<html>
<head>
    <title>Online Grocery</title>
</head>
<body>
    <h1>Product List</h1>

    <a href="{{ url_for('view_cart') }}">ðŸ›’ View Cart</a>
    <form method="GET" action="{{ url_for('index') }}">
        <input type="text" name="q" placeholder="Search..." value="{{ search_query }}">
        <button type="submit">Search</button>
    </form>

        <h3>Categories:</h3>
        <ul>
        <li><a href="{{ url_for('index') }}">All</a></li>
        {% for c in categories %}
            <li><a href="{{ url_for('index', category=c['category']) }}"> {{ c['category'] }}</a></li>
        {% endfor %}
        </ul>

    
    <ul>
        <div class="product-grid">
            {% for product in products %}
            <div class="product-card">
                <h4>{{ product['product_name'] }}</h4>
                <p>${{ product['unit_price'] }} ({{ product['unit_quantity'] }})</p>
                <p>Stock: {{ product['in_stock'] }}</p>
                {% if product['in_stock'] > 0 %}
                    <a href="{{ url_for('add_to_cart', product_id=product['product_id']) }}" class="add-button">Add to Cart</a>
                {% else %}
                    <span class="out-of-stock">Out of Stock</span>
                {% endif %}
            </div>
            {% endfor %}
        </div>
           
    </ul>
</body>
</html>
