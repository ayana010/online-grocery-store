{% extends "base.html" %}

{% block title %}Product List - Online Grocery{% endblock %}

{% block content %}
    <h1>Your Shopping Cart</h1>
    <a href="{{ url_for('index') }}">‚Üê Back to Products</a>
    {% if items %}
    <div class="cart-container">
        {% for entry in items %}
        <div class="cart-item">
          <div class="item-info">
            <h4>{{ entry.product['product_name'] }}</h4>
            <p>Unit Price: ${{ entry.product['unit_price'] }}</p>
            <p>Quantity: {{ entry.quantity }}</p>
            <p>Subtotal: <strong>${{ "%.2f"|format(entry.subtotal) }}</strong></p>
          </div>
          <div class="item-actions">
            <a href="{{ url_for('decrease_quantity', product_id=entry.product['product_id']) }}">‚àí</a>
            <a href="{{ url_for('increase_quantity', product_id=entry.product['product_id']) }}">Ôºã</a>
            <a href="{{ url_for('remove_from_cart', product_id=entry.product['product_id']) }}" class="remove-btn">üóë</a>
          </div>
        </div>
        {% endfor %}
      </div>
      
      {% if items %}
        <p class="cart-total">Total: ${{ "%.2f"|format(total_price) }}</p>
        <p><a href="{{ url_for('checkout') }}" class="checkout-btn">Proceed to Checkout</a></p>
      {% else %}
        <p>Your cart is empty.</p>
      {% endif %}
      
        <p><strong>Total:</strong> ${{ "%.2f"|format(total_price) }}</p>
        <p> <a href="{{ url_for('checkout') }}">Proceed to Checkout</a></p>
        
    {% else %}
        <p>Your cart is empty.</p>
    {% endif %}
 {% endblock %}
