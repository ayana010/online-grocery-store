<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Online Grocery{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="logo">
        <a href="{{ url_for('index') }}">Online Grocery</a>
    </div>

    <div class="floating-cart-toggle">
        <button onclick="toggleCart()">ðŸ›’ Cart</button>
    </div>
    
    <div id="floating-cart" class="floating-cart hidden">
        <h3>Your Cart</h3>
        <div id="floating-cart-content">
            <!-- Cart content will be loaded via session -->
            {% if session.cart %}
                <ul>
                    {% for product_id, quantity in session.cart.items() %}
                        {% set product = get_product(product_id) %}
                        <li>
                            {% if product.image_url %}
                                <img src="{{ product.image_url }}" alt="{{ product.product_name }}" width="40">
                            {% endif %}
                            {{ product.product_name }} Ã— {{ quantity }}
                            <a href="{{ url_for('remove_from_cart', product_id=product.product_id) }}">ðŸ—‘</a>
                        </li>
                    {% endfor %}
                </ul>
                <p><a href="{{ url_for('view_cart') }}">Go to Full Cart</a></p>
            {% else %}
                <p>Your cart is empty.</p>
            {% endif %}
        </div>
    </div>
    
    {% block content %}
    {% endblock %}

    <script>
        function toggleCart() {
          const cart = document.getElementById("floating-cart");
          cart.classList.toggle("hidden");
        }
      </script>
      
</body>
</html>
